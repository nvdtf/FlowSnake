<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Matrix</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div>
        <label for="numSnakes">Number of snakes:</label>
        <select id="numSnakes">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
        </select>
    </div>
    <div>
        <label for="moves">Moves:</label>
        <input type="text" id="moves" placeholder="Enter moves (L, R, U, D)">
    </div>
    <div>
        <label for="boardSize">Board size:</label>
        <input type="text" id="boardSize" value="10x10" placeholder="Enter board size (e.g. 10x10)">
    </div>
    <button id="goButton">Go!</button>
    <canvas id="matrixCanvas" width="200" height="200"></canvas>
    <script>
        const cellSize = 20;
        const canvas = document.getElementById('matrixCanvas');
        const ctx = canvas.getContext('2d');
        const goButton = document.getElementById('goButton');
        const numSnakesInput = document.getElementById('numSnakes');
        const movesInput = document.getElementById('moves');
        const boardSizeInput = document.getElementById('boardSize');

        let snakes = [];
        let snakeMovements = [];
        let movementInterval = null;
        let movementIndex = 0;
        let boardSize = {x: 10, y: 10};

        const directions = {
            'U': {x: 0, y: -1},
            'D': {x: 0, y: 1},
            'L': {x: -1, y: 0},
            'R': {x: 1, y: 0}
        };

        function drawMatrix() {
            for (let i = 0; i < boardSize.x; i++) {
                for (let j = 0; j < boardSize.y; j++) {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(i * cellSize, j * cellSize, cellSize, cellSize);
                    ctx.strokeStyle = 'black';
                    ctx.strokeRect(i * cellSize, j * cellSize, cellSize, cellSize);
                }
            }
        }

        drawMatrix();

        function drawSnake(snake, color) {
            ctx.fillStyle = color;
            for (const cell of snake) {
                ctx.fillRect(cell.x * cellSize, cell.y * cellSize, cellSize, cellSize);
                ctx.strokeStyle = 'black';
                ctx.strokeRect(cell.x * cellSize, cell.y * cellSize, cellSize, cellSize);
            }
        }

        function moveSnake(snake, movement) {
            const newHead = {
                x: snake[0].x + movement.x,
                y: snake[0].y + movement.y
            };

            // Check if the new head position is within the matrix bounds
            if (newHead.x < 0 || newHead.y < 0 || newHead.x >= boardSize.x || newHead.y >= boardSize.y) {
                return snake;
            }

            // Remove the last cell of the snake
            const newSnake = snake.slice(0, -1);
            // Add the new head to the front of the snake
            newSnake.unshift(newHead);
            return newSnake;
        }

        function render() {
            drawMatrix();
            const colors = ['green', 'blue', 'red', 'yellow'];
            snakes.forEach((snake, index) => {
                drawSnake(snake, colors[index]);
            });
        }

        function moveSnakes() {
            if (movementIndex < snakeMovements.length) {
                const move = snakeMovements[movementIndex];
                snakes[move.snake] = moveSnake(snakes[move.snake], move.movement);
                render();
                movementIndex++;
            } else {
                clearInterval(movementInterval);
            }
        }

        function startAnimation() {
            const numSnakes = parseInt(numSnakesInput.value);
            const moves = movesInput.value.split('');
            const [boardWidth, boardHeight] = boardSizeInput.value.split('x').map(Number);
            boardSize = {x: boardWidth, y: boardHeight};

            // Create the snakes
            snakes = [];
            const border = 1;
            for (let i = 0; i < numSnakes; i++) {
                let headPos = {x: 0, y: 0};
                if (i === 0) {
                    headPos = {x: border, y: border};
                } else if (i === 1) {
                    headPos = {x: boardSize.x - 1 - border, y: border};
                } else if (i === 2) {
                    headPos = {x: boardSize.x - 1 - border, y: boardSize.y - 1 - border};
                } else if (i === 3) {
                    headPos = {x: border, y: boardSize.y - 1 - border};
                } else if (i === 4) {
                    headPos = {x: Math.floor(boardSize.x / 2), y: border};
                } else if (i === 5) {
                    headPos = {x: border, y: Math.floor(boardSize.y / 2)};
                } else if (i === 6) {
                    headPos = {x: Math.floor(boardSize.x / 2), y: boardSize.y - 1 - border};
                } else if (i === 7) {
                    headPos = {x: boardSize.x - 1 - border, y: Math.floor(boardSize.y / 2)};
                }
                const snake = [headPos];
                snakes.push(snake);
            }

            // Create the movements
            snakeMovements = [];
            for (let i = 0; i < moves.length; i++) {
                const movement = {snake: i % numSnakes, movement: directions[moves[i]]};
                snakeMovements.push(movement);
            }

            canvas.width = boardWidth * cellSize;
            canvas.height = boardHeight * cellSize;

            movementIndex = 0;
            render();
            movementInterval = setInterval(moveSnakes, 1000);
        }


        goButton.addEventListener('click', startAnimation);
    </script>
</body>
</html>


    </script>
</body>
</html>
